package com.goodworkalan.paste.redirect;

import org.testng.annotations.Test;

// TODO Document.
public class RedirectionTest {
    // TODO Document.
    @Test
    public void constructor() {
//        MockHttpServletRequest request = new MockHttpServletRequest();
//        when(request.getRequest().getRequestURL()).thenReturn(new StringBuffer("http://domain.com/foo/baz"));
//        
//        final Map<String, String> headers = new HashMap<String, String>();
//        HttpServletResponse response = mock(HttpServletResponse.class);
//        Mockito.doAnswer(new Answer<Void>() {
//            public Void answer(InvocationOnMock invocation) throws Throwable {
//                headers.put((String) invocation.getArguments()[0], (String) invocation.getArguments()[1]);
//                return null;
//            }
//        }).when(response).addHeader(Mockito.anyString(), Mockito.anyString());
//
//        Redirector redirector = new Redirector(request.getRequest(), response);
//        
//        Redirection redirection = new Redirection("bar");
//        redirector.redirect(redirection.getFormat());
//        
//        assertEquals(headers.get("Location"), "http://domain.com/foo/bar");   
    }
}
